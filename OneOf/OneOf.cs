// ===========================================================================
// Generated by OneOf.tt
// ===========================================================================

using System;
using Newtonsoft.Json;

namespace OneOf
{
    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0>(T0 t) => new OneOf<T0>(t, 0);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0>)) return false;

            var other = (OneOf<T0>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1>(T0 t) => new OneOf<T0, T1>(t, 0);
        public static implicit operator OneOf<T0, T1>(T1 t) => new OneOf<T0, T1>(t, 1);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1>)) return false;

            var other = (OneOf<T0, T1>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2>(T0 t) => new OneOf<T0, T1, T2>(t, 0);
        public static implicit operator OneOf<T0, T1, T2>(T1 t) => new OneOf<T0, T1, T2>(t, 1);
        public static implicit operator OneOf<T0, T1, T2>(T2 t) => new OneOf<T0, T1, T2>(t, 2);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2>)) return false;

            var other = (OneOf<T0, T1, T2>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3>(T0 t) => new OneOf<T0, T1, T2, T3>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3>(T1 t) => new OneOf<T0, T1, T2, T3>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3>(T2 t) => new OneOf<T0, T1, T2, T3>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3>(T3 t) => new OneOf<T0, T1, T2, T3>(t, 3);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3>)) return false;

            var other = (OneOf<T0, T1, T2, T3>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3, T4> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3, T4>(T0 t) => new OneOf<T0, T1, T2, T3, T4>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3, T4>(T1 t) => new OneOf<T0, T1, T2, T3, T4>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3, T4>(T2 t) => new OneOf<T0, T1, T2, T3, T4>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3, T4>(T3 t) => new OneOf<T0, T1, T2, T3, T4>(t, 3);
        public static implicit operator OneOf<T0, T1, T2, T3, T4>(T4 t) => new OneOf<T0, T1, T2, T3, T4>(t, 4);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3, T4>)) return false;

            var other = (OneOf<T0, T1, T2, T3, T4>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3, T4, T5> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T0 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T1 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T2 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T3 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 3);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T4 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 4);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5>(T5 t) => new OneOf<T0, T1, T2, T3, T4, T5>(t, 5);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3, T4, T5>)) return false;

            var other = (OneOf<T0, T1, T2, T3, T4, T5>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3, T4, T5, T6> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T0 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T1 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T2 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T3 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 3);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T4 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 4);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T5 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 5);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6>(T6 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6>(t, 6);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3, T4, T5, T6>)) return false;

            var other = (OneOf<T0, T1, T2, T3, T4, T5, T6>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3, T4, T5, T6, T7> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;
            if (this.index == 7 && typeof(T) == typeof(T7)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;
            if (this.index == 7 && typeof(T) == typeof(T7)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T0 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T1 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T2 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T3 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 3);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T4 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 4);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T5 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 5);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T6 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 6);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(T7 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7>(t, 7);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;
            if (valueType == typeof(N7)) return (N7)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action<T7> f7 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }
            if (this.index == 7 && f7 != null) { f7((T7)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<T7, TResult> f7 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);
            if (this.index == 7 && f7 != null) return f7((T7)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3, T4, T5, T6, T7>)) return false;

            var other = (OneOf<T0, T1, T2, T3, T4, T5, T6, T7>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public struct OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOf(object value, int index) { this.value = value; this.index = index; }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;
            if (this.index == 7 && typeof(T) == typeof(T7)) return true;
            if (this.index == 8 && typeof(T) == typeof(T8)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;
            if (this.index == 7 && typeof(T) == typeof(T7)) return (T)value;
            if (this.index == 8 && typeof(T) == typeof(T8)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T0 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 0);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T1 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 1);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T2 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 2);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T3 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 3);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T4 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 4);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T5 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 5);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T6 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 6);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T7 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 7);
        public static implicit operator OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T8 t) => new OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 8);

        public OneOf<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOf<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;
            if (valueType == typeof(N7)) return (N7)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action<T7> f7 = null, Action<T8> f8 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }
            if (this.index == 7 && f7 != null) { f7((T7)this.value); return; }
            if (this.index == 8 && f8 != null) { f8((T8)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<T7, TResult> f7 = null, Func<T8, TResult> f8 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);
            if (this.index == 7 && f7 != null) return f7((T7)this.value);
            if (this.index == 8 && f8 != null) return f8((T8)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>)) return false;

            var other = (OneOf<T0, T1, T2, T3, T4, T5, T6, T7, T8>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0>(T0 t) => new OneOfBase<T0>(t, 0);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0>)) return false;

            var other = (OneOfBase<T0>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1>(T0 t) => new OneOfBase<T0, T1>(t, 0);
        public static implicit operator OneOfBase<T0, T1>(T1 t) => new OneOfBase<T0, T1>(t, 1);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1>)) return false;

            var other = (OneOfBase<T0, T1>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2>(T0 t) => new OneOfBase<T0, T1, T2>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2>(T1 t) => new OneOfBase<T0, T1, T2>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2>(T2 t) => new OneOfBase<T0, T1, T2>(t, 2);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2>)) return false;

            var other = (OneOfBase<T0, T1, T2>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3>(T0 t) => new OneOfBase<T0, T1, T2, T3>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3>(T1 t) => new OneOfBase<T0, T1, T2, T3>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3>(T2 t) => new OneOfBase<T0, T1, T2, T3>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3>(T3 t) => new OneOfBase<T0, T1, T2, T3>(t, 3);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3, T4> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
            if (this is T4) this.index = 4;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3, T4>(T0 t) => new OneOfBase<T0, T1, T2, T3, T4>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4>(T1 t) => new OneOfBase<T0, T1, T2, T3, T4>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4>(T2 t) => new OneOfBase<T0, T1, T2, T3, T4>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4>(T3 t) => new OneOfBase<T0, T1, T2, T3, T4>(t, 3);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4>(T4 t) => new OneOfBase<T0, T1, T2, T3, T4>(t, 4);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3, T4>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3, T4>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3, T4, T5> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
            if (this is T4) this.index = 4;
            if (this is T5) this.index = 5;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T0 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T1 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T2 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T3 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 3);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T4 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 4);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5>(T5 t) => new OneOfBase<T0, T1, T2, T3, T4, T5>(t, 5);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3, T4, T5>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3, T4, T5>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3, T4, T5, T6> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
            if (this is T4) this.index = 4;
            if (this is T5) this.index = 5;
            if (this is T6) this.index = 6;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T0 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T1 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T2 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T3 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 3);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T4 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 4);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T5 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 5);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6>(T6 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6>(t, 6);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3, T4, T5, T6>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3, T4, T5, T6>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
            if (this is T4) this.index = 4;
            if (this is T5) this.index = 5;
            if (this is T6) this.index = 6;
            if (this is T7) this.index = 7;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;
            if (this.index == 7 && typeof(T) == typeof(T7)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;
            if (this.index == 7 && typeof(T) == typeof(T7)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T0 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T1 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T2 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T3 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 3);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T4 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 4);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T5 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 5);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T6 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 6);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(T7 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>(t, 7);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;
            if (valueType == typeof(N7)) return (N7)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action<T7> f7 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }
            if (this.index == 7 && f7 != null) { f7((T7)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<T7, TResult> f7 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);
            if (this.index == 7 && f7 != null) return f7((T7)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

    [JsonConverter(typeof(OneOfJsonConverter))]
    public class OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8> : IOneOf
    {
        readonly object value;
        readonly int index;

        OneOfBase(object value, int index) { this.value = value; this.index = index; }

        protected OneOfBase()
        {
            this.value = this;

            if (this is T0) this.index = 0;
            if (this is T1) this.index = 1;
            if (this is T2) this.index = 2;
            if (this is T3) this.index = 3;
            if (this is T4) this.index = 4;
            if (this is T5) this.index = 5;
            if (this is T6) this.index = 6;
            if (this is T7) this.index = 7;
            if (this is T8) this.index = 8;
        }

        object IOneOf.Value => value;

        public bool Is<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return true;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return true;
            if (this.index == 1 && typeof(T) == typeof(T1)) return true;
            if (this.index == 2 && typeof(T) == typeof(T2)) return true;
            if (this.index == 3 && typeof(T) == typeof(T3)) return true;
            if (this.index == 4 && typeof(T) == typeof(T4)) return true;
            if (this.index == 5 && typeof(T) == typeof(T5)) return true;
            if (this.index == 6 && typeof(T) == typeof(T6)) return true;
            if (this.index == 7 && typeof(T) == typeof(T7)) return true;
            if (this.index == 8 && typeof(T) == typeof(T8)) return true;

            return false;
        }

        public T As<T>()
        {
            // quick path for when value non-null and correct type
            if (this.value != null && this.value.GetType() == typeof(T)) return (T)this.value;

            // slower path for when value null, or wrong type
            if (this.index == 0 && typeof(T) == typeof(T0)) return (T)value;
            if (this.index == 1 && typeof(T) == typeof(T1)) return (T)value;
            if (this.index == 2 && typeof(T) == typeof(T2)) return (T)value;
            if (this.index == 3 && typeof(T) == typeof(T3)) return (T)value;
            if (this.index == 4 && typeof(T) == typeof(T4)) return (T)value;
            if (this.index == 5 && typeof(T) == typeof(T5)) return (T)value;
            if (this.index == 6 && typeof(T) == typeof(T6)) return (T)value;
            if (this.index == 7 && typeof(T) == typeof(T7)) return (T)value;
            if (this.index == 8 && typeof(T) == typeof(T8)) return (T)value;

            throw new InvalidOperationException();
        }

        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T0 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 0);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T1 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 1);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T2 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 2);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T3 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 3);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T4 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 4);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T5 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 5);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T6 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 6);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T7 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 7);
        public static implicit operator OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(T8 t) => new OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>(t, 8);

        public OneOfBase<N0> ToOneOf<N0>()
        {
            var valueType = value.GetType();


            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1> ToOneOf<N0, N1>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2> ToOneOf<N0, N1, N2>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3> ToOneOf<N0, N1, N2, N3>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4> ToOneOf<N0, N1, N2, N3, N4>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5> ToOneOf<N0, N1, N2, N3, N4, N5>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6> ToOneOf<N0, N1, N2, N3, N4, N5, N6>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;

            throw new InvalidOperationException();
        }

        public OneOfBase<N0, N1, N2, N3, N4, N5, N6, N7, N8> ToOneOf<N0, N1, N2, N3, N4, N5, N6, N7, N8>()
        {
            var valueType = value.GetType();

            if (valueType == typeof(N0)) return (N0)value;
            if (valueType == typeof(N1)) return (N1)value;
            if (valueType == typeof(N2)) return (N2)value;
            if (valueType == typeof(N3)) return (N3)value;
            if (valueType == typeof(N4)) return (N4)value;
            if (valueType == typeof(N5)) return (N5)value;
            if (valueType == typeof(N6)) return (N6)value;
            if (valueType == typeof(N7)) return (N7)value;

            throw new InvalidOperationException();
        }

        public void Switch(Action<T0> f0 = null, Action<T1> f1 = null, Action<T2> f2 = null, Action<T3> f3 = null, Action<T4> f4 = null, Action<T5> f5 = null, Action<T6> f6 = null, Action<T7> f7 = null, Action<T8> f8 = null, Action otherwise = null)
        {
            if (this.index == 0 && f0 != null) { f0((T0)this.value); return; }
            if (this.index == 1 && f1 != null) { f1((T1)this.value); return; }
            if (this.index == 2 && f2 != null) { f2((T2)this.value); return; }
            if (this.index == 3 && f3 != null) { f3((T3)this.value); return; }
            if (this.index == 4 && f4 != null) { f4((T4)this.value); return; }
            if (this.index == 5 && f5 != null) { f5((T5)this.value); return; }
            if (this.index == 6 && f6 != null) { f6((T6)this.value); return; }
            if (this.index == 7 && f7 != null) { f7((T7)this.value); return; }
            if (this.index == 8 && f8 != null) { f8((T8)this.value); return; }

            if (otherwise != null) { otherwise(); return; }

            throw new InvalidOperationException();
        }

        public TResult Match<TResult>(Func<T0, TResult> f0 = null, Func<T1, TResult> f1 = null, Func<T2, TResult> f2 = null, Func<T3, TResult> f3 = null, Func<T4, TResult> f4 = null, Func<T5, TResult> f5 = null, Func<T6, TResult> f6 = null, Func<T7, TResult> f7 = null, Func<T8, TResult> f8 = null, Func<TResult> otherwise = null)
        {
            if (this.index == 0 && f0 != null) return f0((T0)this.value);
            if (this.index == 1 && f1 != null) return f1((T1)this.value);
            if (this.index == 2 && f2 != null) return f2((T2)this.value);
            if (this.index == 3 && f3 != null) return f3((T3)this.value);
            if (this.index == 4 && f4 != null) return f4((T4)this.value);
            if (this.index == 5 && f5 != null) return f5((T5)this.value);
            if (this.index == 6 && f6 != null) return f6((T6)this.value);
            if (this.index == 7 && f7 != null) return f7((T7)this.value);
            if (this.index == 8 && f8 != null) return f8((T8)this.value);

            if (otherwise != null) return otherwise();

            throw new InvalidOperationException();
        }

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (!(obj is OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>)) return false;

            var other = (OneOfBase<T0, T1, T2, T3, T4, T5, T6, T7, T8>)obj;
            return index == other.index && Equals(value, other.value);
        }

        public override int GetHashCode() => unchecked((value?.GetHashCode() ?? 0) * 397 ^ index);

        public override string ToString() => (value?.ToString() ?? "");
    }

}
